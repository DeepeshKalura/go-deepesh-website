{{define "project_layout"}}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{.Title}}</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/htmx.org@1.9.6"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            dark: {
              DEFAULT: '#121212',
              lighter: '#1e1e1e',
              card: 'rgba(40, 40, 40, 0.8)',
              accent: '#6366f1'
            }
          }
        }
      }
    }
  </script>
  <style>
    .glass {
      background: rgba(30, 30, 30, 0.4);
      backdrop-filter: blur(8px);
    }
  </style>
</head>
<body class="bg-dark text-gray-200 min-h-screen flex flex-col">

  <!-- Content Area -->
  <div id="project-content-area">
    {{template "content" .}}
  </div>
  
<!-- Footer Component -->
  {{template "footer" .}}

  <script>
    // HTMX logic can remain the same
    document.addEventListener('DOMContentLoaded', function() {
      htmx.on("htmx:afterOnLoad", function(evt) {
        const titleTag = evt.detail.xhr.getAllResponseHeaders().split('\r\n')
          .find(header => header.startsWith('X-Title:'));
        if (titleTag) {
          document.title = titleTag.split('X-Title:')[1].trim();
        }
        const path = evt.detail.pathInfo.requestPath;
        if (path && window.location.pathname !== path) {
          window.history.pushState({}, '', path);
        }
      });
    });
  </script>
</body>
</html>
{{end}}